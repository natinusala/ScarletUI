compléter les tests
refacto pour utiliser le mécanisme d'Environment

ou sinon

refacto pour réduire la duplication
    anySet n'a plus de sens d'exister ? ObjectIdentifier est utilisé que dans un cas
    c'est bizarre d'avoir un enum + 2 types différents
    revoir le flow entier

Append attributes
    - un append fait une fois
    - plusieurs append d'un attribut différent sur une vue
    - l'attribut mis sur le mauvais type doit spread en bas
    - deux fois le même attribut à 2 niveaux différents: doit cumuler et remplacer le bon dans la liste
    - propagation

+ Tester un mix des 2
// TODO: le cas du multiple environment :eyes: ça ne devrait pas concerner les attributs mais tant qu'y faire... (3 cas: deux fois la même valeur, deux valeurs différentes, deux clés différentes)
